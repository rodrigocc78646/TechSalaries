{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rodrigo.carvalho\\\\Desktop\\\\Websites\\\\react-d3js-example\\\\src\\\\components\\\\MedianLine.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass MedianLine extends Component {\n  componentWillMount() {\n    this.yScale = d3.scaleLinear();\n    this.updateD3(this.props);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.updateD3(newProps);\n  }\n\n  updateD3(props) {\n    this.yScale.domain([0, d3.max(props.data, props.value)]).range([0, props.heigth - props.y - props.bottomMargin]);\n  }\n\n  render() {\n    const median = this.props.median || d3.median(this.props.data, this.props.value);\n    const line = d3.line()([[0, 5], [this.props.width, 5]]);\n    const tickFormat = this.yScale.tickFormat();\n    const translate = \"translate(\".concat(this.props.x, \", \").concat(this.yScale(median), \")\");\n    const medianLabel = \"Median Household: $\".concat(tickFormat(median));\n    return React.createElement(\"g\", {\n      className: \"mean\",\n      transform: translate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"text\", {\n      x: this.props.width - 5,\n      y: \"0\",\n      textAnchor: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, medianLabel), React.createElement(\"path\", {\n      d: line,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MedianLine;","map":{"version":3,"sources":["C:\\Users\\rodrigo.carvalho\\Desktop\\Websites\\react-d3js-example\\src\\components\\MedianLine.js"],"names":["React","Component","d3","MedianLine","componentWillMount","yScale","scaleLinear","updateD3","props","componentWillReceiveProps","newProps","domain","max","data","value","range","heigth","y","bottomMargin","render","median","line","width","tickFormat","translate","x","medianLabel"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAC/BG,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,MAAL,GAAcH,EAAE,CAACI,WAAH,EAAd;AACA,SAAKC,QAAL,CAAc,KAAKC,KAAnB;AACH;;AAEDC,EAAAA,yBAAyB,CAACC,QAAD,EAAW;AAChC,SAAKH,QAAL,CAAcG,QAAd;AACH;;AAEDH,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACZ,SAAKH,MAAL,CACKM,MADL,CACY,CAAC,CAAD,EAAIT,EAAE,CAACU,GAAH,CAAOJ,KAAK,CAACK,IAAb,EAAmBL,KAAK,CAACM,KAAzB,CAAJ,CADZ,EAEKC,KAFL,CAEW,CAAC,CAAD,EAAIP,KAAK,CAACQ,MAAN,GAAeR,KAAK,CAACS,CAArB,GAAyBT,KAAK,CAACU,YAAnC,CAFX;AAGH;;AACDC,EAAAA,MAAM,GAAG;AACL,UAAMC,MAAM,GAAG,KAAKZ,KAAL,CAAWY,MAAX,IAAqBlB,EAAE,CAACkB,MAAH,CAAU,KAAKZ,KAAL,CAAWK,IAArB,EAA2B,KAAKL,KAAL,CAAWM,KAAtC,CAApC;AACA,UAAMO,IAAI,GAAGnB,EAAE,CAACmB,IAAH,GAAU,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,KAAKb,KAAL,CAAWc,KAAZ,EAAmB,CAAnB,CAAT,CAAV,CAAb;AACA,UAAMC,UAAU,GAAG,KAAKlB,MAAL,CAAYkB,UAAZ,EAAnB;AACA,UAAMC,SAAS,uBAAgB,KAAKhB,KAAL,CAAWiB,CAA3B,eAAiC,KAAKpB,MAAL,CAAYe,MAAZ,CAAjC,MAAf;AACA,UAAMM,WAAW,gCAAyBH,UAAU,CAACH,MAAD,CAAnC,CAAjB;AAEA,WACI;AAAG,MAAA,SAAS,EAAC,MAAb;AAAoB,MAAA,SAAS,EAAEI,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,CAAC,EAAE,KAAKhB,KAAL,CAAWc,KAAX,GAAmB,CAA5B;AAA+B,MAAA,CAAC,EAAC,GAAjC;AAAqC,MAAA,UAAU,EAAC,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKI,WADL,CADJ,EAII;AAAM,MAAA,CAAC,EAAEL,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AAQH;;AA9B8B;;AAiCnC,eAAelB,UAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nclass MedianLine extends Component {\r\n    componentWillMount() {\r\n        this.yScale = d3.scaleLinear();\r\n        this.updateD3(this.props);\r\n    }\r\n    \r\n    componentWillReceiveProps(newProps) {\r\n        this.updateD3(newProps);\r\n    }\r\n\r\n    updateD3(props) {\r\n        this.yScale\r\n            .domain([0, d3.max(props.data, props.value)])\r\n            .range([0, props.heigth - props.y - props.bottomMargin]);\r\n    }\r\n    render() {\r\n        const median = this.props.median || d3.median(this.props.data, this.props.value);\r\n        const line = d3.line()([[0, 5], [this.props.width, 5]]);\r\n        const tickFormat = this.yScale.tickFormat();\r\n        const translate = `translate(${this.props.x}, ${this.yScale(median)})`;\r\n        const medianLabel = `Median Household: $${tickFormat(median)}`;\r\n\r\n        return (\r\n            <g className=\"mean\" transform={translate}>\r\n                <text x={this.props.width - 5} y=\"0\" textAnchor=\"end\">\r\n                    {medianLabel}\r\n                </text>\r\n                <path d={line}></path>\r\n            </g>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MedianLine;"]},"metadata":{},"sourceType":"module"}